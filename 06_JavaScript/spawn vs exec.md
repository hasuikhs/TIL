# spawn vs exec

- `spawn`과 `exec`가 하는 작업은 동일
- `spawn`은 스트림(Stream)을 리턴하고, `exec`는 버퍼(Buffer)를 리턴

## 1. spawn

- 스트림은 `stdout`과 `stderr` 스트림을 포함한 객체 리턴
- 자식 프로세스의 표준 출력을 `stdout` 객체로 받아 처리 가능
- `stdout` 객체는 `data`와 `end` 등의 이벤트 발생
- **`spawn`은 자식 프로세스로부터 많은 양의 데이터를 받는 경우 유용**
- **비동기로 실행하고, 결과도 비동기로 받음**

## 2. exec

- `exec`는 자식 프로세스 버퍼의 아웃풋을 리턴
- 버퍼의 사이즈 기본값은 200k
  - 만약, 자식 프로세스가 버퍼 사이즈보다 더 큰 값을 리턴하면 오류 발생
  - 버퍼 사이즈를 크게 늘리면 해결 가능하지만, `exec`는 큰 사이즈의 버퍼 처리를 위한 것이 아님
  - 이런 경우라면 `spawn` 사용이 적합
- `exec`는 데이터 대신 상태 정도의 작은 결과를 출력하는 프로그램을 실행하는 용도로 사용
- **동기로 실행하고, 결과는 비동기로 받음**