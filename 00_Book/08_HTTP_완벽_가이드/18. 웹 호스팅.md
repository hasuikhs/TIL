# 18. 웹 호스팅

- 콘텐츠 리소스를 저장, 중개, 관리하는 일을 통틀어 웹 호스팅이라 함

## 18.1 호스팅 서비스

- 초기에는 각 회사가 하드웨어를 구매하여 자체 망을 구축하여 웹 서버 소프트웨어를 관리
- 웹이 빠르게 대중화되면서, 전문적으로 관리하는 호스팅 서비스를 제공하는 업체 등장
  - 물리적인 장비 관리에서부터 고객이 직접 콘텐츠를 제공 가능한 총체적인 웹 호스팅까지 다양한 서비스 존재

## 18.2 가상 호스팅

- 많은 웹 호스팅 업자는 컴퓨터 한 대를 여러 고객이 공유하게 해서 저렴한 웹 호스팅 서비스 제공, 이를 가상 호스팅이라 부름

- 각 웹 사이트는 다른 서버에서 호스팅하는 것처럼 보이지만, 물리적으로 같은 서버에서 호스팅
- 가상 호스팅은 비용, 공간, 관리에 이점이 있으므로, 가상 호스팅을 제공하는 업체는 한 서버에 수많은 웹 사이트를 호스팅하려 함

### 18.2.1 호스트 정보가 없는 가상 서버 요청

- HTTP/1.0 명세는 공용 웹 서버가 호스팅하고 있는 가상 웹 사이트에 누가 접근하고 있는지 식별 기능 제공하지 않음
- 웹 서버는 사용자가 어떤 웹 사이트로 접근하려고 하는지 아는데 필요한 정보가 불충분
- 두 요청이 서로 다른 웹 사이트에 완전히 다른 문서를 요청을 하더라도, 요청 자체는 똑같이 생김
- HTTP 대리 서버와 인터셉트 프락시 또한 어떤 사이트를 요청하는지에 관한 정보 필요

### 18.2.2 가상 호스팅 동작하게 하기

- 호스트 정보를 HTTP 요청 명세에 넣지 않은 것은, 각 웹 서버가 정확히 한 웹 사이트만 호스팅할 것이라고 예상한 실수
- 초기 명세는 가상 호스팅을 고려하지 않았기 때문에, 웹 호스팅 업자는 공용 가상 호스팅을 지원하는 데 필요한 컨벤션 개발
  - 모든 HTTP 요청 메시지에 경로 컴포넌트 뿐 아니라 완전한 URI도 포함하여 해결
  - HTTP/1.1을 지원하는 서버는 HTTP 요청 메시지에 있는 전체 URI 처리 가능해야 함
  - 하지만 기존의 모든 애플리케이션이 이 명세에 맞게 업그레이드하기까지는 오랜 시간이 걸릴 것이지만 그 중 네가지 기술 등장
    - URL 경로를 통한 가상 호스팅
    - 포트번호를 통한 가상 호스팅
    - IP 주소를 통한 가상 호스팅
    - Host 헤더를 통한 가상 호스팅

### 18.2.3 HTTP/1.1 Host 헤더

- Host 헤더는 RFC 2068에 정의되어 있는 HTTP/1.1 요청 헤더
- 가상 서버는 매우 흔하기 때문에 대부분의 HTTP 클라이언트가 HTTP/1.1과 호환되지 않더라도, Host 헤더는 구현