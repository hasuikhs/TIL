# 20. 리다이렉션과 부하 균형

- 리다이렉션 보통 메시지가 프락시, 캐시, 서버 팜의 특정 웹 서버 중 어디에서 끝나는지 판별하기 위해 사용
- 리다이렉션은 클라이언트의 메시지를 명시적으로 요청하지 않은 곳으로 전송 가능

## 20.1 왜 리다이렉트인가?

- 리다이렉션은 다음의 HTTP 애플리케이션의 요구 세가지의 이유로 현대의 웹에서는 불가피함
  - 신뢰 가능한 HTTP 트렌젹션의 수행
  - 지연 최소화
  - 네트워크 대역폭 절약
- 이러한 이유로 웹 콘텐츠는 흔히 여러 장소에 배포
  - 한 곳에서 실패한 경우 다른 곳을 이용 가능하므로 신뢰성 개선 가능
  - 클라이언트가 보다 가까운 리소스에 접근 가능하여 콘텐츠를 더 빨리 받게 되므로 응답시간 감소
  - 서버가 분산되므로 네트워크 혼잡 감소
- 리다이렉션이란 최적의 분산된 콘텐츠를 찾는 것을 도와주는 기법의 집합이라 생각 가능
- 리다이렉션 구현에는 부하 균형의 과제가 포함
  - 들어오는 메시지의 부하를 서버들의 집합에게 분산 가능
  - 반대의 경우도 어떤 방식의 부하 균형이든 리다이렉션을 포함

## 20.2 리다이렉트 할 곳

- 서버, 프락시, 캐시, 게이트웨이가 모두 공통적으로 서버의 특성을 갖고있기에 많은 리다이렉션은 모두에서 동작
- 그러나 특정 종류의 종단만을 위해 특별히 설계되어 일반적인 적용이 불가능한 리다이렉션 존재
- 웹 서버는 IP별로 요청을 다룸
  - 복제된 서버들로 요청을 분산한다는 것은 같은 URL에 대해 여러 곳에서 온 요청들을 각각 최적의 웹 서버로 전송한단 의미
- 프락시는 프로토콜별로 요청을 다룸
  - 이상적으로, 프락시 이웃의 모든 HTTP 트래픽은 프락시를 거쳐야 함
  - 캐시는 자주 찾는 문서를 저장하여 클라이언트에게 제공하기 때문에 리소스가 많이 드는 통신 회피 가능
  - 프락시로의 리다이렉트는 주 진입로의 트래픽을 근처에 있는 지름길로 빨아들이는 것과 같음

