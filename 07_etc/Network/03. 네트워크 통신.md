# 3. 네트워크 통신

## 3.1 유니캐스트, 멀티캐스트, 브로드캐스트, 애니캐스트

- 네트워크에서 출발지에서 목적지로 데이터를 전송할 때 사용하는 통신 방식

  - **유니캐스트**
    - 1 : 1 통신
    - 출발지와 목적지가 1 :1 통신
    - 실제로 사용하는 대부분의 통신 방식
  - **브로드캐스트**
    - 1 : 모든 통신
    - 동일 네트워크에 존재하는 모든 호스트가 목적지
    - 유니캐스트로 통신하기 전, 주로 상대방의 정확한 위치를 알기 위해 사용
    - 기본 동작은 네트워크 내에서 모든 호스트에 패킷을 전달할 때 사용
  - **멀티캐스트**
    - 1 : 그룹(멀티캐스트 구독 호스트) 통신
    - 하나의 출발지에서 다수의 특정 목적지로 데이터 전송
    - 멀티캐스트 그룹 주소를 이용해 해당 그룹에 속한 다수의 호스트로 패킷을 전송하기 위한 통신 방식
    - 단방향으로 다수에게 동시에 같은 내용을 전달해야할 때 사용(IPTV, 사내 방송 등)
  - **애니캐스트**
    - 1 : 1  통신(목적지는 동일 그룹 내의 1개 호스트)
    - 다수의 동일 그룹 중 가장 가까운 호스트에서 응답
    - IPv4에서는 일부 기능 구현, IPv6은 모두 구현 가능
    - 애니캐스트 주소가 같은 호스트들 중에서 가장 가깝거나 가장 효율적으로 서비스 가능한 호스트 통신 방식

  | 타입         | 통신 대상 | 범위                  | IPv4 | IPv6 | 예제       |
  | ------------ | --------- | --------------------- | ---- | ---- | ---------- |
  | 유니캐스트   | 1 : 1     | 전체 네트워크         | O    | O    | HTTP       |
  | 브로드캐스트 | 1 : 모두  | 서브넷(로컬 네트워크) | O    | X    | ARP        |
  | 멀티캐스트   | 1 : 그룹  | 정의된 구간           | O    | O    | 방송       |
  | 애니캐스트   | 1 : 1     | 전체 네트워크         | △    | O    | 6 to 4 DNS |

  - **통신 방식을 구분할 때 중요한 점은 출발지가 기준이 아닌 목적지 주소를 기준으로 구분**

## 3.2 MAC 주소

- Media Access Control의 줄임말로 2계층(데이터 링크)에서 토신을 위해 네트워크 인터페이스에 할당된 고유 식별자

### 3.2.1 MAC 주소 체계

- MAC 주소는 변경 불가능하게 하드웨어에 고정되어 출하되므로 네트워크 구성 요소마다 다른 주소를 가짐
- MAC 주소는 48비트의 16진수 12자리로 표현
  - 앞의 24비트와 뒤의 24비트로 나누어 구분
    - OUI
      - 앞의 24비트인 '제조사 코드'
      - IEEE가 제조사에 할당하는 부분
    - UAA
      - 뒤의 24비트
      - 각 제조사에서 네트워크 구성 요소에 할당하는 부분
- **네트워크 카드나 장비를 생산할 때 하드웨어적으로 정해져 나오므로 MAC 주소를 BIA(Burend-In Address)라고도 부름**

### 3.2.2 MAC 주소 동작

- NIC는 자신의 MAC 주소를 가지고 있고 전기 신호가 들어오면 2계층에서 패킷으로 변환하여 내용을 구분한 후 도착지 MAC 주소 확인
- 만약 도착지 MAC 주소가 자신이 갖고 있는 MAC 주소와 다르면 그 패킷을 폐기
- 패킷의 목적지 주소가 자기 자신이거나 브로드캐스트, 멀티캐스트와 같은 그룹 주소이면 처리해야할 주소로 인지해 패킷 정보를 상위 계층으로 넘김