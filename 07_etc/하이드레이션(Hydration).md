# 하이드레이션(Hydration)

- SSR과 CSR을 조합하여 최상의 사용자 경험을 제공하기 위한 기법 중 하나
- 서버에서 렌더링된 HTML 코드를 받아와 클라이언트 측에서 JavaScript를 사용하여 해당 HTML 코드를 동적으로 변환하고 상호작용이 가능한 웹 애플리케이션으로 만드는 과정
  - SSR에서 사용되는 개념
  - 서버에서 렌더링된 정적 페이지를 클라이언트에게 보내고, react는 번들링된 JavaScript 코드를 클라이언트에게 보냄
  - 클라이언트는 전달받은 HTML과 JavaScript 코드를 매칭하는 Hydrate를 수행
  - 전송받은 JavaScript들이 이전에 보내진 HTML DOM 요소 위에서 한번 더 렌더링하게 되면서 각각 자기 자리를 찾아가며 매칭
  - Hydrate 후에는 클릭과 같은 이벤트나 모듈들이 적용되어 사용자 조작 가능
  - 즉, **Hydrate는 클라이언트 측 JavaScript가 정적 호스팅 또는 서버 측 렌더링을 통해 전달되는 정적 HTML 요소에 이벤트 핸들러를 첨부하여 동적 웹 페이지로 변환하는 기술**
  - **이런 과정이 물이 하르는 듯한 느낌을 준다고 하여 Hydrate라 불림**
- React, Vue.js 같은 프론트엔드 프레임워크들은 하이드레이션을 지원
- 하이드레이션 단계
  - 1. SSR
    - 웹 서버에서 클라이언트 요청에 대해 렌더링할 HTML 페이지 생성
    - 이 HTML 페이지에는 데이터가 채워지지 않은 상태로 서버에서 미리 렌더링된 컨텐츠 포함
  - 2. CSR
    - 브라우저가 서버에서 받아온 HTML 페이지 로드
    - 브라우저가 JavaScript를 실행하여 미리 렌덜이된 컨텐츠에 데이터 주입, 이 과정을 **하이드레이션**이라 함
    - 데이터가 주입되면, 브라우저는 이후 사용자 상호작용에 대해 동적으로 페이지 업데이트 가능
- 장점
  - SSR의 이점과 CSR의 이점을 결합하여 초기 렌더링 성능 개선
  - 사용자 경험 향상
  - 모바일 SEO
  - 웹 접근성 향상
